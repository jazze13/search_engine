<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>search_engine</title>
    <link rel="stylesheet" href="{% static "css/style.css" %}">
</head>
<body class="theme-light">

    <div class="background_opacity"></div>
    
    <div class="wrapper">

        <main>

            <div class="theme-switcher">
                <button onclick="switch_theme()">
                    <svg class="switch_to_dark_theme" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.998 511.998" style="enable-background:new 0 0 511.998 511.998;" xml:space="preserve">
                    <g>
                        <g>
                            <polygon points="457.567,158.548 411.387,149.622 388.62,108.453 365.856,149.622 319.672,158.548 351.785,192.922 
                                346.002,239.605 388.62,219.68 431.238,239.605 425.456,192.922 		"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <polygon points="401.642,331.423 369.89,325.287 354.24,296.984 338.589,325.287 306.839,331.423 328.917,355.057 
                                324.939,387.151 354.24,373.453 383.538,387.151 379.564,355.057 		"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M204.914,255.998c0-104.784,65.545-194.245,157.866-229.661C329.817,10.671,292.969,1.892,254.107,1.892
                                C113.991,1.892,0,115.883,0,255.999s113.991,254.107,254.107,254.107c38.864,0,75.711-8.777,108.676-24.447
                                C270.462,450.247,204.914,360.783,204.914,255.998z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <polygon points="511.998,284.177 486.02,279.156 473.215,255.999 460.411,279.156 434.43,284.177 452.496,303.514 
                                449.242,329.772 473.215,318.564 497.185,329.772 493.935,303.514 		"/>
                        </g>
                    </g>
                    </svg>
                    <svg class="switch_to_light_theme" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 612.001 612.001" style="enable-background:new 0 0 612.001 612.001;" xml:space="preserve">
                        <g>
                            <g>
                                <path d="M306,149.341c-86.382,0-156.661,70.278-156.661,156.661c0,86.382,70.278,156.66,156.661,156.66
                                    s156.66-70.278,156.66-156.66C462.66,219.618,392.382,149.341,306,149.341z"/>
                                <path d="M274.194,117.278h63.612c5.032,0,9.356-2.101,11.863-5.763c2.508-3.662,2.9-8.453,1.079-13.146L315.749,8.257
                                    c-2.789-7.184-7.305-8.256-9.749-8.256s-6.96,1.073-9.749,8.255l-35,90.114c-1.821,4.692-1.427,9.482,1.079,13.145
                                    C264.837,115.178,269.162,117.278,274.194,117.278z"/>
                                <path d="M337.806,494.723h-63.612c-5.032,0-9.357,2.102-11.863,5.764c-2.506,3.663-2.9,8.453-1.079,13.145l34.999,90.114
                                    c2.789,7.182,7.305,8.254,9.749,8.254c2.444,0,6.96-1.072,9.749-8.254l34.999-90.115c1.821-4.69,1.429-9.48-1.079-13.144
                                    C347.162,496.825,342.838,494.723,337.806,494.723z"/>
                                <path d="M127.54,190.824c2.412,5.477,7.028,8.746,12.348,8.746c3.644,0,7.257-1.608,10.174-4.526l44.981-44.98
                                    c3.558-3.558,5.13-8.102,4.312-12.466c-0.819-4.362-3.928-8.028-8.532-10.056l-88.467-38.973c-2.233-0.983-4.336-1.482-6.25-1.482
                                    c-3.201,0-5.959,1.415-7.568,3.882c-1.357,2.081-2.454,5.747,0.031,11.389L127.54,190.824z"/>
                                <path d="M484.46,421.178c-2.412-5.477-7.027-8.746-12.346-8.746c-3.645,0-7.259,1.609-10.177,4.527l-44.981,44.98
                                    c-3.558,3.559-5.13,8.104-4.312,12.466c0.818,4.362,3.929,8.028,8.532,10.055l88.466,38.974c2.233,0.983,4.336,1.482,6.25,1.482
                                    c3.201,0,5.959-1.417,7.568-3.882c1.358-2.083,2.455-5.748-0.03-11.389L484.46,421.178z"/>
                                <path d="M461.937,195.044c2.918,2.918,6.532,4.526,10.176,4.526c5.319,0,9.934-3.269,12.348-8.746l38.972-88.465
                                    c2.486-5.643,1.389-9.308,0.031-11.389c-1.609-2.467-4.367-3.882-7.568-3.882c-1.914,0-4.017,0.499-6.251,1.483l-88.466,38.97
                                    c-4.604,2.029-7.715,5.694-8.532,10.057c-0.818,4.363,0.754,8.908,4.312,12.466L461.937,195.044z"/>
                                <path d="M150.063,416.959c-2.918-2.918-6.532-4.527-10.177-4.527c-5.319,0-9.934,3.269-12.346,8.746l-38.972,88.465
                                    c-2.486,5.643-1.389,9.308-0.031,11.39c1.609,2.466,4.368,3.882,7.568,3.882c1.914,0,4.017-0.499,6.251-1.484l88.466-38.972
                                    c4.604-2.028,7.715-5.694,8.532-10.056c0.818-4.362-0.753-8.907-4.312-12.466L150.063,416.959z"/>
                                <path d="M603.745,296.251l-90.111-34.996c-1.942-0.755-3.896-1.137-5.806-1.137c-7.593,0-13.104,5.921-13.104,14.078l0.001,63.613
                                    c0,8.157,5.511,14.078,13.104,14.078c1.912,0,3.866-0.382,5.806-1.136l90.112-34.999c7.182-2.79,8.254-7.306,8.254-9.751
                                    C612.001,303.558,610.926,299.04,603.745,296.251z"/>
                                <path d="M104.173,351.886c7.594,0,13.106-5.921,13.106-14.078v-63.613c0-8.157-5.511-14.078-13.106-14.078
                                    c-1.912,0-3.864,0.382-5.805,1.136L8.255,296.251C1.073,299.04,0,303.556,0,306.001c0,2.444,1.072,6.96,8.255,9.752l90.111,34.996
                                    C100.308,351.503,102.261,351.886,104.173,351.886z"/>
                            </g>
                        </g>
                    </svg>                        
                </button>
                <button class="change_background">
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 262.394 262.394" style="enable-background:new 0 0 262.394 262.394;" xml:space="preserve">
                    <g>
                        <path d="M245.63,103.39h-9.91c-2.486-9.371-6.197-18.242-10.955-26.432l7.015-7.015c6.546-6.546,6.546-17.159,0-23.705
                            l-15.621-15.621c-6.546-6.546-17.159-6.546-23.705,0l-7.015,7.015c-8.19-4.758-17.061-8.468-26.432-10.955v-9.914
                            C159.007,7.505,151.502,0,142.244,0h-22.091c-9.258,0-16.763,7.505-16.763,16.763v9.914c-9.37,2.486-18.242,6.197-26.431,10.954
                            l-7.016-7.015c-6.546-6.546-17.159-6.546-23.705,0.001L30.618,46.238c-6.546,6.546-6.546,17.159,0,23.705l7.014,7.014
                            c-4.758,8.19-8.469,17.062-10.955,26.433h-9.914c-9.257,0-16.762,7.505-16.762,16.763v22.09c0,9.258,7.505,16.763,16.762,16.763
                            h9.914c2.487,9.371,6.198,18.243,10.956,26.433l-7.015,7.015c-6.546,6.546-6.546,17.159,0,23.705l15.621,15.621
                            c6.546,6.546,17.159,6.546,23.705,0l7.016-7.016c8.189,4.758,17.061,8.469,26.431,10.955v9.913c0,9.258,7.505,16.763,16.763,16.763
                            h22.091c9.258,0,16.763-7.505,16.763-16.763v-9.913c9.371-2.487,18.242-6.198,26.432-10.956l7.016,7.017
                            c6.546,6.546,17.159,6.546,23.705,0l15.621-15.621c3.145-3.144,4.91-7.407,4.91-11.853s-1.766-8.709-4.91-11.853l-7.016-7.016
                            c4.758-8.189,8.468-17.062,10.955-26.432h9.91c9.258,0,16.763-7.505,16.763-16.763v-22.09
                            C262.393,110.895,254.888,103.39,245.63,103.39z M131.198,191.194c-33.083,0-59.998-26.915-59.998-59.997
                            c0-33.083,26.915-59.998,59.998-59.998s59.998,26.915,59.998,59.998C191.196,164.279,164.281,191.194,131.198,191.194z"/>
                        <path d="M131.198,101.199c-16.541,0-29.998,13.457-29.998,29.998c0,16.54,13.457,29.997,29.998,29.997s29.998-13.457,29.998-29.997
                            C161.196,114.656,147.739,101.199,131.198,101.199z"/>
                    </g>
                    </svg>
                </button>
            </div>

                <form class="search_form" action="search_results" method="post">
                    {% csrf_token %}
                    <h1 class="title">Search Engine</h1>

                    <div class="search_bar click_effect">
                        <input type="text" class="search" placeholder="Search" name="search_input" value="{{ keyword }}">
                        <button type="submit" class="search_button">
                            <svg viewBox="0 0 512 512">
                                <path opacity="1.00" d=" M 330.82 96.99 C 330.05 90.82 335.74 84.95 341.93 85.48 C 346.77 85.65 350.01 89.63 353.18 92.77 C 404.68 144.28 456.19 195.78 507.69 247.28 C 509.99 249.53 511.69 252.43 512.00 255.68 L 512.00 256.22 C 511.72 259.49 510.04 262.42 507.73 264.68 C 456.22 316.19 404.71 367.69 353.21 419.20 C 350.22 422.10 347.33 425.80 342.93 426.40 C 337.19 427.47 331.28 422.84 330.83 417.05 C 330.29 413.20 332.47 409.71 335.11 407.13 C 381.95 360.31 428.76 313.48 475.59 266.66 C 321.03 266.65 166.47 266.68 11.91 266.64 C 5.88 267.14 0.34 262.37 0.00 256.31 L 0.00 255.82 C 0.25 249.70 5.84 244.85 11.92 245.36 C 166.47 245.32 321.03 245.36 475.58 245.34 C 429.77 199.52 383.96 153.71 338.15 107.91 C 335.09 104.80 331.19 101.68 330.82 96.99 Z" />
                            </svg>
                        </button>
                    </div>
                </form>
                {% if keyword %}
                <div class="search_results">
                    <h3>Results:</h3>
                    {% if search_results %}
                    {% for sentence in search_results %}
                    <p style="margin-bottom:20px;">{{ sentence }}</p>
                    {% endfor %}
                    
                    {% else %}
                    <p>0 результатов поиска</p>
                    {% endif %}
                </div>
                {% endif %}

        </main>
        
        <div class="modals_wrapper">

            <div class="modal change_background">
                <h3>Background Settings</h3>
                <div class="background_images">
                    <h5>Choose background image</h5>
                    <ul class="background_images__list">
                        <li class="background_images__list__element no-img"><span>Default</span></li>
                        {% for img in imgs %}
                        <li class="background_images__list__element"><img src="{{ img }}" alt="bg"></li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="change_background__sliders">
                    <div class="change_background__sliders__blur change_background__sliders__slider">
                        <div class="change_background__sliders__title">
                            <h5>Background blur</h5>
                            <span class="percent" id="blur_percent">0px</span>
                        </div>
                        <div class="range_wrapper">
                            <button type="button" class="range_button">-</button>
                            <input type="range" class="change_background__slider" id="blur_range" min="0" max="50">
                            <button type="button" class="range_button">+</button>
                        </div>
                    </div>
                    <div class="change_background__sliders__bg_opacity change_background__sliders__slider">
                        <div class="change_background__sliders__title">
                            <h5>Background opacity</h5>
                            <span class="percent" id="bg_opacity_percent">0%</span>
                        </div>
                        <div class="range_wrapper">
                            <button type="button" class="range_button">-</button>
                            <input type="range" class="change_background__slider" id="bg_opacity_range" min="0" max="90">
                            <button type="button" class="range_button">+</button>
                        </div>
                    </div>
                </div>

                <div class="change_background__bottom_buttons">
                    <button class="change_backgorund__apply change_background__bottom_buttons__button">Apply</button>
                    <button class="close_modal change_background__bottom_buttons__button">Close</button>
                </div>
            </div>

        </div>

    </div>

<script src="{% static "js/script.js" %}"></script>

</body>
</html>